{
  "root": "src",
  "deploy" : [
    "export OPENSHIFT_SSHKEYPATH=`mktemp`",
    "export OPENSHIFT_DEPLOYDIR=`mktemp --directory`",
    "export WERCKER_DEPLOY=$WERCKER_ROOT/../deploy",
    "echo $OPENSHIFT_SSHKEY > $OPENSHIFT_SSHKEYPATH",
    "git clone ssh://$OPENSHIFT_ID@$OPENSHIFT_HOST/~/git/$OPENSHIFT_APPLICATION.git $OPENSHIFT_DEPLOYDIR",
    "cp -rf $WERCKER_ROOT $OPENSHIFT_DEPLOYDIR",
    "cd $OPENSHIFT_DEPLOYDIR",
    "git add .",
    "git commit -m 'wercker deploy'",
    "SSHKEYPATH=$OPENSHIFT_SSHKEYPATH GIT_SSH=$WERCKER_DEPLOY/gitssh git push",
    "rm -f $OPENSHIFT_SSHKEYPATH",
    "rm -rf $OPENSHIFT_DEPLOYDIR"
  ]
}
